(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{5326:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row w-100 justify-content-center h-75 mt-5"},[r("form",{staticClass:"col-11 col-md-8 col-lg-5 text-center",attrs:{action:"/",method:"POST"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate()}}},[r("div",{staticClass:"mb-4"},[r("img",{staticClass:"w-100",attrs:{src:"img/eReceta.png",alt:""}}),r("div",{staticClass:"version mt-3"},[r("span",{staticClass:"h4 mb-0 font-weight-bold text-uppercase"},[e._v(e._s(e.version))])])]),r("b-alert",{directives:[{name:"show",rawName:"v-show",value:!e.status,expression:"!status"}],attrs:{show:"",variant:"danger"}},[r("span",{staticClass:"small"},[e._v(e._s(e.alertMessage))])]),r("div",{staticClass:"form-group text-left"},[r("label",{attrs:{for:"email"}},[e._v("Usuario")]),r("form-input",{attrs:{model:e.user,error:e.error,type:"text",name:"email",placeholder:"Ingrese su usuario"}})],1),r("div",{staticClass:"form-group text-left mb-2"},[r("label",{attrs:{for:"password"}},[e._v("Contraseña")]),r("div",{staticClass:"position-relative"},[r("form-input",{attrs:{model:e.user,error:e.error,type:e.showPassword?"text":"password",name:"password",placeholder:"Ingrese su contraseña"}}),r("font-awesome-icon",{staticClass:"position-absolute pointer",staticStyle:{right:"-25px",top:"12px"},attrs:{icon:e.showPassword?"eye-slash":"eye"},on:{click:function(t){e.showPassword=!e.showPassword}}})],1)]),r("div",{staticClass:"custom-control custom-checkbox d-flex align-items-center"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recordarme,expression:"recordarme"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck",name:"example1"},domProps:{checked:Array.isArray(e.recordarme)?e._i(e.recordarme,null)>-1:e.recordarme},on:{change:function(t){var r=e.recordarme,s=t.target,a=!!s.checked;if(Array.isArray(r)){var o=null,i=e._i(r,o);s.checked?i<0&&(e.recordarme=r.concat([o])):i>-1&&(e.recordarme=r.slice(0,i).concat(r.slice(i+1)))}else e.recordarme=a}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"customCheck"}},[e._v("Recordarme")])]),r("div",{staticClass:"form-group mt-2"},[r("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.validate()}}},[e._v(" Acceder "),r("b-spinner",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{small:""}})],1)],1),r("div",{staticClass:"form-group d-flex flex-column"},[r("router-link",{attrs:{to:"/registrarse"}},[e._v("Registrarse")]),r("router-link",{attrs:{to:"/recuperar"}},[e._v("Recuperar contraseña")])],1)],1)])},a=[],o=(r("4160"),r("b64b"),r("d3b7"),r("159b"),r("5530")),i=r("2f62"),n={data:function(){return{user:{email:"",password:""},error:{},showPassword:!1,loading:!1,status:!0,alertMessage:"",recordarme:!1,version:properties.version}},methods:Object(o["a"])({},Object(i["b"])(["updateAuth"]),{validate:function(){var e=this;this.error={},Object.keys(this.user).forEach((function(t){e.user[t]||e.$set(e.error,t,"¡El campo no debe estar vacio!")})),Object.keys(this.error).length||this.login()},login:function(){var e=this;this.loading=!0,axios.post("http://"+properties.ip+"/erp-web/view/eReceta/login",this.user).then((function(t){e.recordarme&&localStorage.setItem("auth",JSON.stringify(t.data)),e.updateAuth(t.data),e.$router.push("/nueva-receta")})).catch((function(t){e.status=!1,t.response&&401==t.response.status?e.alertMessage="¡Usuario y/o contraseña incorrecto!":e.alertMessage="No se pudo continuar con el proceso: "+t.message})).finally((function(){return e.loading=!1}))}})},c=n,l=r("2877"),u=Object(l["a"])(c,s,a,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=Login.6546a7fd.js.map