(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["NuevaReceta"],{"0b25":function(t,e,n){var i=n("a691"),r=n("50c4");t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length or index");return n}},"1bcc":function(t,e,n){},2532:function(t,e,n){"use strict";var i=n("23e7"),r=n("5a34"),a=n("1d80"),o=n("ab13");i({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(a(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"2ca0":function(t,e,n){"use strict";var i=n("23e7"),r=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),c=n("ab13"),l=n("c430"),u="".startsWith,d=Math.min,f=c("startsWith"),h=!l&&!f&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(t){var e=String(s(this));o(t);var n=a(d(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return u?u.call(e,i,n):e.slice(n,n+i.length)===i}})},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),o=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"5a34":function(t,e,n){var i=n("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5d13":function(t,e,n){"use strict";var i=n("1bcc"),r=n.n(i);r.a},"60f9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100 row pt-2 justify-content-center"},[n("div",{staticClass:"col-12 col-md-6 text-left"},[n("span",{staticClass:"text-muted"},[t._v("Datos del paciente")]),n("form",{staticClass:"border border-dark p-2",attrs:{action:"",method:"POST"},on:{submit:function(e){return t.validate()}}},[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-6 col-md-12 pr-1 pr-md-3 mb-md-3 text-left"},[n("label",{attrs:{for:""}},[t._v("Nombre")]),n("form-input",{attrs:{model:t.paciente,error:t.error,type:"text",name:"nombre",placeholder:"Ingrese nombre"}})],1),n("div",{staticClass:"col-6 col-md-12 pl-1 pl-md-3 text-left"},[n("label",{attrs:{for:""}},[t._v("Apellido")]),n("form-input",{attrs:{model:t.paciente,error:t.error,type:"text",name:"apellido",placeholder:"Ingrese apellido"}})],1)]),n("div",{staticClass:"form-group text-left"},[n("label",{attrs:{for:""}},[t._v("DNI")]),n("form-input",{attrs:{model:t.paciente,error:t.error,type:"number",name:"dni",placeholder:"Ingrese DNI"}})],1),n("div",{staticClass:"form-group text-left"},[n("label",{attrs:{for:""}},[t._v("Obra social")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.paciente.obraSocial,expression:"paciente.obraSocial"}],staticClass:"custom-select",attrs:{name:"",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.paciente,"obraSocial",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Seleccionar")]),t._l(t.obraSociales,(function(e){return n("option",{key:e.nombre,domProps:{value:e.nombre}},[t._v(t._s(e.nombre)+" ")])}))],2)]),t.paciente.obraSocial?n("div",{staticClass:"form-group text-left"},[n("label",{attrs:{for:"afiliado"}},[t._v("N° Afiliado")]),n("form-input",{attrs:{model:t.paciente,error:t.error,type:"text",name:"numeroAfiliado",placeholder:"Ingrese numero afiliado"}})],1):t._e()])]),n("div",{staticClass:"col-12 col-md-6 mt-2 text-center",on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validate()}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 my-3 my-md-0"},[n("div",{staticClass:"position-relative"},[n("input",{staticClass:"form-control pl-4",attrs:{type:"text",placeholder:"¿Qué medicamento esta buscando?"},domProps:{value:t.query},on:{input:function(e){t.query=e.target.value}}}),n("font-awesome-icon",{staticClass:"position-absolute text-muted",staticStyle:{left:"7px",top:"11px"},attrs:{icon:"search"}})],1),n("ul",{staticClass:"list-unstyled bg-light"},t._l(t.listaMedicamento,(function(e){return n("li",{key:e.id,staticClass:"p-2 text-left border-bottom d-flex justify-content-between align-items-center pointer",on:{click:function(n){return t.addSeleccionado(e)}}},[n("span",[t._v(t._s(e.nombre))]),t._m(0,!0)])})),0)]),n("div",{staticClass:"col-12 m-auto"},[n("h2",{staticClass:"text-muted h6"},[t._v("Medicamentos seleccionados ("+t._s(t.seleccionados.length)+")")]),n("table",{staticClass:"table mb-0 text-muted table-bordered"},[t._m(1),n("tbody",{staticClass:"text-left"},[t._l(t.seleccionados,(function(e,i){return[n("tr",{key:i},[n("td",{staticClass:"px-1"},[n("div",{staticClass:"bg-danger p-1 rounded pointer",staticStyle:{"line-height":"0.5"},on:{click:function(n){return t.sacarSeleccionado(e)}}},[n("font-awesome-icon",{staticClass:"text-white",attrs:{icon:"trash-alt",title:"Eliminar"}})],1)]),n("td",{staticClass:"small",attrs:{scope:"row"}},[t._v(t._s(e.nombre))]),n("td",[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"bg-purpura p-1 rounded pointer d-flex align-items-center",staticStyle:{"line-height":"0.5"},on:{click:function(t){1!=e.cantidad&&e.cantidad--}}},[n("font-awesome-icon",{staticClass:"small text-white",attrs:{icon:"minus",title:"Restar"}})],1),n("div",[t._v(t._s(e.cantidad))]),n("div",{staticClass:"bg-purpura p-1 rounded pointer d-flex align-items-center",staticStyle:{"line-height":"0.5"},on:{click:function(t){e.cantidad++}}},[n("font-awesome-icon",{staticClass:"small text-white",attrs:{icon:"plus",title:"Sumar"}})],1)])])])]}))],2)])]),n("div",{staticClass:"col-12 my-2 d-flex flex-column align-items-center"},[t.error.message&&(!t.seleccionados.length||!t.seleccionadosNoEsCero)||t.errorStatus?n("span",{staticClass:"text-danger small"},[t._v(t._s(t.error.message))]):t._e(),n("div",{staticClass:"form-group mt-2"},[n("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.validate()}}},[t._v(" Siguiente "),n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{small:""}})],1)],1)])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"text-muted small "},[n("u",[t._v("Seleccionar")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"h6 text-left"},[n("th"),n("th",{staticStyle:{width:"80%"}},[t._v("Nombre")]),n("th",{staticStyle:{width:"20%"}},[t._v("Cantidad")])])])}],a=(n("4de4"),n("7db0"),n("c740"),n("4160"),n("caad"),n("fb6a"),n("a434"),n("b64b"),n("2532"),n("2ca0"),n("159b"),n("5530")),o=n("2f62"),s={data:function(){return{paciente:{nombre:"",apellido:"",dni:"",obraSocial:"",numeroAfiliado:""},error:{},medicamentos:[],obraSociales:[],seleccionados:[],query:"",loading:!1,errorStatus:!1}},computed:{listaMedicamento:function(){var t=this;if(this.query.length){var e=this.medicamentos.filter((function(e){return e.nombre.startsWith(t.query.toUpperCase())})).slice(0,5);return e=e.length?e:this.medicamentos.filter((function(e){return e.nombre.includes(t.query.toUpperCase())})).slice(0,5),e=e.length?e:this.medicamentos.filter((function(e){return void 0!=e.formula&&e.formula.includes(t.query.toUpperCase())})).slice(0,5),e}},seleccionadosNoEsCero:function(){return this.seleccionados.find((function(t){return t.cantidad>0}))}},methods:Object(a["a"])({},Object(o["b"])(["updateDataPDF","updateData"]),{validate:function(){var t=this;this.error={},this.errorStatus=!1,!this.paciente.dni.length||this.paciente.dni.length>=7&&this.paciente.dni.length<=8||(this.error.dni="El DNI debe tener entre 7 y 8 digitos"),this.paciente.obraSocial.length&&!this.paciente.numeroAfiliado.length&&(this.error.numeroAfiliado="El campo no debe estar vacio"),this.seleccionadosNoEsCero||(this.error.message="La cantidad no puede ser 0"),this.seleccionados.length||(this.error.message="¡Debe seleccionar al menos un medicamento!"),Object.keys(this.paciente).forEach((function(e){t.paciente[e]||"dni"==e||"obraSocial"==e||"numeroAfiliado"==e||t.$set(t.error,e,"El campo no debe estar vacio")})),Object.keys(this.error).length||this.siguiente()},addSeleccionado:function(t){this.query="",t.cantidad=1,this.seleccionados.push(t);var e=this.medicamentos.findIndex((function(e){return e.nombre==t.nombre}));this.medicamentos.splice(e,1)},sacarSeleccionado:function(t){var e=this.seleccionados.findIndex((function(e){return e.nombre==t.nombre}));this.medicamentos.push(this.seleccionados.splice(e,1)[0])},siguiente:function(){this.loading=!0,this.errorStatus=!1;var t={usuarioMedicoDto:this.$store.state.auth,pacienteDto:this.paciente,medicamentoDtos:this.seleccionados};this.updateData(t),this.$router.push("/firmar")}}),mounted:function(){var t=this;axios.post("http://"+properties.ip+"/erp-web/view/eReceta/medicamentos",{nombre:"",descuento:"",cantidad:""}).then((function(e){t.medicamentos=e.data})).catch((function(e){t.errorStatus=!0,t.error.message="No se pudo cargar la lista de medicamentos: "+e.message})),axios.post("http://"+properties.ip+"/erp-web/view/eReceta/obrasSociales").then((function(e){return t.obraSociales=e.data})),document.querySelector("table").addEventListener("mousedown",(function(t){t.preventDefault()}))}},c=s,l=(n("5d13"),n("2877")),u=Object(l["a"])(c,i,r,!1,null,null,null);e["default"]=u.exports},"621a":function(t,e,n){"use strict";var i=n("da84"),r=n("83ab"),a=n("a981"),o=n("9112"),s=n("e2cc"),c=n("d039"),l=n("19aa"),u=n("a691"),d=n("50c4"),f=n("0b25"),h=n("77a7"),p=n("e163"),v=n("d2bb"),m=n("241c").f,g=n("9bf2").f,b=n("81d5"),y=n("d44e"),x=n("69f3"),w=x.get,C=x.set,_="ArrayBuffer",S="DataView",A="prototype",O="Wrong length",E="Wrong index",k=i[_],I=k,D=i[S],N=D&&D[A],R=Object.prototype,L=i.RangeError,M=h.pack,U=h.unpack,j=function(t){return[255&t]},$=function(t){return[255&t,t>>8&255]},B=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},W=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},q=function(t){return M(t,23,4)},F=function(t){return M(t,52,8)},P=function(t,e){g(t[A],e,{get:function(){return w(this)[e]}})},T=function(t,e,n,i){var r=f(n),a=w(t);if(r+e>a.byteLength)throw L(E);var o=w(a.buffer).bytes,s=r+a.byteOffset,c=o.slice(s,s+e);return i?c:c.reverse()},V=function(t,e,n,i,r,a){var o=f(n),s=w(t);if(o+e>s.byteLength)throw L(E);for(var c=w(s.buffer).bytes,l=o+s.byteOffset,u=i(+r),d=0;d<e;d++)c[l+d]=u[a?d:e-d-1]};if(a){if(!c((function(){k(1)}))||!c((function(){new k(-1)}))||c((function(){return new k,new k(1.5),new k(NaN),k.name!=_}))){I=function(t){return l(this,I),new k(f(t))};for(var J,z=I[A]=k[A],G=m(k),H=0;G.length>H;)(J=G[H++])in I||o(I,J,k[J]);z.constructor=I}v&&p(N)!==R&&v(N,R);var Q=new D(new I(2)),K=N.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||s(N,{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},{unsafe:!0})}else I=function(t){l(this,I,_);var e=f(t);C(this,{bytes:b.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},D=function(t,e,n){l(this,D,S),l(t,I,S);var i=w(t).byteLength,a=u(e);if(a<0||a>i)throw L("Wrong offset");if(n=void 0===n?i-a:d(n),a+n>i)throw L(O);C(this,{buffer:t,byteLength:n,byteOffset:a}),r||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},r&&(P(I,"byteLength"),P(D,"buffer"),P(D,"byteLength"),P(D,"byteOffset")),s(D[A],{getInt8:function(t){return T(this,1,t)[0]<<24>>24},getUint8:function(t){return T(this,1,t)[0]},getInt16:function(t){var e=T(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=T(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return W(T(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return W(T(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return U(T(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return U(T(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){V(this,1,t,j,e)},setUint8:function(t,e){V(this,1,t,j,e)},setInt16:function(t,e){V(this,2,t,$,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){V(this,2,t,$,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){V(this,4,t,B,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){V(this,4,t,B,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){V(this,4,t,q,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){V(this,8,t,F,e,arguments.length>2?arguments[2]:void 0)}});y(I,_),y(D,S),t.exports={ArrayBuffer:I,DataView:D}},"77a7":function(t,e){var n=1/0,i=Math.abs,r=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2,c=function(t,e,c){var l,u,d,f=new Array(c),h=8*c-e-1,p=(1<<h)-1,v=p>>1,m=23===e?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,b=0;for(t=i(t),t!=t||t===n?(u=t!=t?1:0,l=p):(l=a(o(t)/s),t*(d=r(2,-l))<1&&(l--,d*=2),t+=l+v>=1?m/d:m*r(2,1-v),t*d>=2&&(l++,d/=2),l+v>=p?(u=0,l=p):l+v>=1?(u=(t*d-1)*r(2,e),l+=v):(u=t*r(2,v-1)*r(2,e),l=0));e>=8;f[b++]=255&u,u/=256,e-=8);for(l=l<<e|u,h+=e;h>0;f[b++]=255&l,l/=256,h-=8);return f[--b]|=128*g,f},l=function(t,e){var i,a=t.length,o=8*a-e-1,s=(1<<o)-1,c=s>>1,l=o-7,u=a-1,d=t[u--],f=127&d;for(d>>=7;l>0;f=256*f+t[u],u--,l-=8);for(i=f&(1<<-l)-1,f>>=-l,l+=e;l>0;i=256*i+t[u],u--,l-=8);if(0===f)f=1-c;else{if(f===s)return i?NaN:d?-n:n;i+=r(2,e),f-=c}return(d?-1:1)*i*r(2,f-e)};t.exports={pack:c,unpack:l}},"7db0":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").find,a=n("44d2"),o=n("ae40"),s="find",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},"81d5":function(t,e,n){"use strict";var i=n("7b0b"),r=n("23cb"),a=n("50c4");t.exports=function(t){var e=i(this),n=a(e.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:r(c,n);while(l>s)e[s++]=t;return e}},a434:function(t,e,n){"use strict";var i=n("23e7"),r=n("23cb"),a=n("a691"),o=n("50c4"),s=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var n,i,u,d,f,h,b=s(this),y=o(b.length),x=r(t,y),w=arguments.length;if(0===w?n=i=0:1===w?(n=0,i=y-x):(n=w-2,i=v(p(a(e),0),y-x)),y+n-i>m)throw TypeError(g);for(u=c(b,i),d=0;d<i;d++)f=x+d,f in b&&l(u,d,b[f]);if(u.length=i,n<i){for(d=x;d<y-i;d++)f=d+i,h=d+n,f in b?b[h]=b[f]:delete b[h];for(d=y;d>y-i+n;d--)delete b[d-1]}else if(n>i)for(d=y-i;d>x;d--)f=d+i-1,h=d+n-1,f in b?b[h]=b[f]:delete b[h];for(d=0;d<n;d++)b[d+x]=arguments[d+2];return b.length=y-i+n,u}})},a981:function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},ab13:function(t,e,n){var i=n("b622"),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},ace4:function(t,e,n){"use strict";var i=n("23e7"),r=n("d039"),a=n("621a"),o=n("825a"),s=n("23cb"),c=n("50c4"),l=n("4840"),u=a.ArrayBuffer,d=a.DataView,f=u.prototype.slice,h=r((function(){return!new u(2).slice(1,void 0).byteLength}));i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(o(this),t);var n=o(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),a=new(l(this,u))(c(r-i)),h=new d(this),p=new d(a),v=0;while(i<r)p.setUint8(v++,h.getUint8(i++));return a}})},c19f:function(t,e,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("621a"),o=n("2626"),s="ArrayBuffer",c=a[s],l=r[s];i({global:!0,forced:l!==c},{ArrayBuffer:c}),o(s)},c740:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,a=n("44d2"),o=n("ae40"),s="findIndex",c=!0,l=o(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},c975:function(t,e,n){"use strict";var i=n("23e7"),r=n("4d64").indexOf,a=n("a640"),o=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,e,n){"use strict";var i=n("23e7"),r=n("4d64").includes,a=n("44d2"),o=n("ae40"),s=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!s},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},f638:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100 w-100 row justify-content-center align-items-center mt-2"},[n("b-modal",{staticClass:"rounded",attrs:{id:"modal-center","hide-footer":"","hide-header":"",centered:"",variant:"danger"}},[n("div",{staticClass:"d-block text-center"},[n("h3",[t._v("¡La firma no puede estar vacia!")])]),n("b-button",{staticClass:"mt-3",attrs:{variant:"primary",block:""},on:{click:function(e){return t.$bvModal.hide("modal-center")}}},[t._v("Cerrar")])],1),t._m(0),t._m(1),n("div",{staticClass:"col-12 col-lg-8 align-items-center mb-1 mt-2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 pl-0 text-left"},[n("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(e){return t.signature_pad.clear()}}},[t._v(" Limpiar ")])],1),n("div",{staticClass:"col-6 px-0 text-right small"},[n("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.validate()}}},[t._v(" Generar receta "),n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{small:""}})],1)],1)])])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 col-lg-8 justify-content-center mb-1 p-0"},[n("h2",{staticClass:"h3 m-0 font-weight-bold"},[t._v("Firma digital")]),n("p",{staticClass:"text-muted mb-1 text-left text-md-center"},[t._v("Por favor, ingrese su firma para confimar la validez de la receta.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 col-lg-8 p-0",attrs:{id:"canvas_container_firma"}},[n("canvas",{staticClass:"border w-100 h-100",attrs:{id:"canvas"}},[t._v("Su navegador no soporta canvas :( ")])])}],a=(n("c975"),n("c19f"),n("ace4"),n("b0c0"),n("d3b7"),n("5530")),o=n("2f62"),s={data:function(){return{signature_pad:null,loading:!1}},methods:Object(a["a"])({},Object(o["b"])(["updateDataPDF","updateData"]),{validate:function(){this.signature_pad.isEmpty()?this.$bvModal.show("modal-center"):this.enviar()},enviar:function(){var t=this;this.loading=!0;var e=this.$store.state.data;e.firmaDigital=this.convertDataURIToBinary(this.signature_pad.toDataURL()),axios.post("http://"+properties.ip+"/erp-web/view/eReceta/nuevaReceta",e).then((function(e){t.updateDataPDF(e.data),t.$router.push("/receta")})).finally((function(){return t.loading=!1}))},convertDataURIToBinary:function(t){for(var e=";base64,",n=t.indexOf(e)+e.length,i=t.substring(n),r=window.atob(i),a=r.length,o=new Array(new ArrayBuffer(a)),s=0;s<a;s++)o[s]=r.charCodeAt(s);return o}}),mounted:function(){var t=document.getElementById("canvas");this.signature_pad=new SignaturePad(t),t.height=t.offsetHeight,t.width=t.offsetWidth,this.signature_pad.on()},beforeRouteEnter:function(t,e,n){"NuevaReceta"!=e.name?n("/nueva-receta"):n()}},c=s,l=n("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);e["default"]=u.exports},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),d=n("1dde"),f=n("ae40"),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),m=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,e){var n,i,u,d=c(this),f=s(d.length),h=o(t,f),p=o(void 0===e?f:e,f);if(a(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(d,h,p);for(i=new(void 0===n?Array:n)(g(p-h,0)),u=0;h<p;h++,u++)h in d&&l(i,u,d[h]);return i.length=u,i}})}}]);
//# sourceMappingURL=NuevaReceta.2b4caa98.js.map